---
import "../styles/projects.css";

const { copy } = Astro.props;
---
<section id="projects" class="Proyects-container">
  <div class="Proyects-title">
    <h2>{copy.projects.title}</h2>
  </div>
  <div class="Proyects-card-container">
    {copy.projects.items.map((project, index) => {
      const isEven = index % 2 !== 0;
      return (
        <article class={`proyect-${index + 1} proyect-container`}>
          {!isEven && (
            <div class="left">
              <div class="top">
                <h3 class="proyect-title">{project.title}</h3>
                <p class="proyect-description">{project.description}</p>
              </div>
              <div class="bottom">
                <h3>{copy.projects.techLabel}</h3>
                <div class="proyect-skills">
                  {project.tech.map((tech) => (
                    <span class="tech-pill">{tech}</span>
                  ))}
                </div>
              </div>
            </div>
          )}
          <div class="right">
            {project.liveUrl ? (
              <a
                class="img-link"
                href={project.liveUrl}
                target="_blank"
                rel="noreferrer noopener"
                aria-label={`${project.title} live`}
              >
                <img class="project-image" src={project.image} alt={project.imageAlt} loading="lazy" />
              </a>
            ) : (
              <div class="img-link">
                <img class="project-image" src={project.image} alt={project.imageAlt} loading="lazy" />
              </div>
            )}
            <div class="proyect-links">
              {project.liveUrl && (
                <a
                  href={project.liveUrl}
                  target="_blank"
                  rel="noreferrer noopener"
                  aria-label={`${project.title} live`}
                >
                  <i class="bx bx-sm bx-globe"></i>
                </a>
              )}
              {project.repoUrl && (
                <a
                  href={project.repoUrl}
                  target="_blank"
                  rel="noreferrer noopener"
                  aria-label={`${project.title} repository`}
                >
                  <i class="bx bx-sm bxl-github"></i>
                </a>
              )}
            </div>
          </div>
          {isEven && (
            <div class="left">
              <div class="top">
                <h3 class="proyect-title">{project.title}</h3>
                <p class="proyect-description">{project.description}</p>
              </div>
              <div class="bottom">
                <h3>{copy.projects.techLabel}</h3>
                <div class="proyect-skills">
                  {project.tech.map((tech) => (
                    <span class="tech-pill">{tech}</span>
                  ))}
                </div>
              </div>
            </div>
          )}
        </article>
      );
    })}
  </div>
</section>
